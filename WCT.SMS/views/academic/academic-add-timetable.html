<section class="content-header">
    <h1>
        Add Timetable
        <small>Preview</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#">Forms</a></li>
        <li class="active">General Elements</li>
    </ol>
</section>

<section class="content" ng-controller="classtimetableCrt" ng-init="getClasses();getSubjects();">
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Select Criteria </h3>
                </div>
                <!-- /.box-header -->

                <div class="box-body">
                    <div class="row">
                        <div class="col-md-12">
                            <p class="error">{{error}}</p>
                            <p>{{loadingMessage}}</p>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Class</label>
                                <select ng-options="item.Id as item.Name group by item.group for item in Classes"
                                        ng-change="getSections(editInProgresItem.ClassId)" ng-model="editInProgresItem.ClassId"
                                        class="form-control"></select>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Section</label>
                                <select ng-options="item.Id as item.Name group by item.group for item in Sections" ng-model="editInProgresItem.SectionId"
                                        class="form-control"></select>
                            </div>
                        </div>


                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Subject</label>
                                <select ng-options="item.Id as item.Name group by item.group for item in Subjects" ng-model="editInProgresItem.SubjectId"
                                        class="form-control"></select>
                            </div>

                            <div class="col-sm-pull-12">
                                <button type="button" ng-click="getTimetable(editInProgresItem.ClassId,editInProgresItem.SectionId,editInProgresItem.SubjectId);" class="btn btn-primary btn-sm pull-right checkbox-toggle"><i class="fa fa-search"></i> Search</button>
                            </div>

                        </div>


                    </div>
                </div>
                <!-- /.box-body -->
                <!-- /.box-body -->
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-md-12" ng-hide="(timetables.length==0)">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title"> Class Timetable </h3>
</div>

                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>
                                        Day
                                    </th>
                                    <th>
                                        Start Time
                                    </th>
                                    <th>
                                        End Time
                                    </th>
                                    <th>
                                        Room Number
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="tt in timetables">
                                    <th>
                                        {{tt.DayName}}
                                    </th>
                                    <th>
                                        <div class="input-group"
                                             moment-picker="tt.StartTime"
                                             format="HH:mm">
                                            <span class="input-group-addon">
                                                <i class="fa fa-fw fa-clock-o"></i>
                                                <i class="octicon octicon-clock"></i>
                                            </span>
                                            <input class="form-control"
                                                   placeholder="Select a time"
                                                   ng-model="tt.StartTime"
                                                   ng-model-options="{ updateOn: 'blur' }">
                                        </div>
                                    </th>
                                    <th>
                                        <div class="input-group"
                                             moment-picker="tt.EndTime"
                                             format="HH:mm">
                                            <span class="input-group-addon">
                                                <i class="fa fa-fw fa-clock-o"></i>
                                                <i class="octicon octicon-clock"></i>
                                            </span>
                                            <input class="form-control"
                                                   placeholder="Select a time"
                                                   ng-model="tt.EndTime"
                                                   ng-model-options="{ updateOn: 'blur' }">
                                        </div>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" ng-model="tt.RoomNo" placeholder="Enter Room Number">
                                        </div>
                                    </th>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                    <div class="box-footer">
                        <button type="button" ng-click="reset()" class="btn btn-default">Reset</button>
                        <button type="button" ng-click="add()" class="btn btn-primary pull-right">Save</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>